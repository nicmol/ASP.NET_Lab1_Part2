@model List<Message>
@{
    Layout = null;
}

<!DOCTYPE>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>List of messages</title>
</head>
<body>
    <h1>List of messages:</h1>
    @foreach (Message message in Model)
    {
    <h2>
        @message.Sender.FirstName <br />
        @message.Sender.LastName <br />
        @message.Sender.Email <br />
        @message.MessageText <br />
        @message.Date.ToString("d")
    </h2>
        <br />
        <h3>Replies:</h3>
        @foreach (Reply reply in message.Replies)
        {
            @reply.Sender.FirstName<br />
            @reply.Sender.LastName<br />
            @reply.Sender.Email<br />
            @reply.MessageText<br />
            @reply.Date.ToString("d")
        }

        <a asp-action ="AddReply" asp-route-messageDate ="@message.Date">Send a Reply</a>
       

    }
    <br />
    <br />
    <br>
    <a href="/Message/AddMessage">Send a message</a><br />
    <a href="/Home">Home</a>

</body>
</html>